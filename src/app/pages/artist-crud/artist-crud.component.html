<app-error-toast
  [message]="errorMessage"
  [timeout]="3000"
  #errorToast></app-error-toast>
<div class="container mx-auto mt-10">
  <div class="flex justify-between gap-4 flex-wrap">
    <!-- Artiestenlijst -->
    <div class="artists-container w-1/2 overflow-y-scroll">
      <ul>
        @for (artist of artists$ | async; track $index) {
          <li class="list-item">
            <img
              [src]="artist.spotifyImage?.url"
              [alt]="artist.name"
              class="thumbnail" />
            <div class="details">
              <h3>{{ artist.name }}</h3>
              <p>{{ artist.biography }}</p>
            </div>
            <button class="text-lg" (click)="deleteArtist(artist.id)">
              <i class="fa-regular fa-trash-can"></i>
            </button>
            <button
              class="text-lg"
              [ngClass]="{
                'icon-button': edit && selectedArtistId === artist.id,
              }"
              (click)="editArtist(artist)">
              <i class="fa-solid fa-pen"></i>
            </button>
          </li>
        }
      </ul>
    </div>
    <app-artist-form
      class="w-full max-w-[500px]"
      (ErrorEvent)="onErrorEvent($event)"
      [selectedArtistId]="selectedArtistId"
      [selectedArtistDto]="selectedArtistDto"
      [(edit)]="edit" />
  </div>
</div>
